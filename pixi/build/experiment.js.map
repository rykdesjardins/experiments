{"version":3,"sources":["webpack:///webpack/bootstrap 8b951d312731f01da164","webpack:///./dev/log.js","webpack:///./dev/config.js","webpack:///./dev/static.js","webpack:///./dev/physics.js","webpack:///./dev/experiment.js","webpack:///(webpack)/buildin/global.js","webpack:///./dev/landing.js","webpack:///./dev/scene.js","webpack:///./dev/stage.js"],"names":["sender","message","level","console","log","Date","toString","repeat","LOG_SENDER_MAX_LENGTH","length","width","height","appOption","background","assets","mustload","Asset","file","type","loaded","res","resource","Static","name","PIXI","loader","add","texture","destroy","done","load","Object","keys","forEach","setResource","Vector","x","y","vx","vy","ax","ay","mx","Number","MAX_SAFE_INTEGER","my","minx","MIN_SAFE_INTEGER","miny","mvx","mvy","minvx","minvy","forces","vector","frozen","update","protoElem","force","push","Force","up","Range","min","max","Math","random","downloadFonts","gotFont","oReq","XMLHttpRequest","addEventListener","open","send","global","frames","Experiment","handleResize","bind","app","Application","stage","addScene","ratio","canvasElement","renderer","view","style","position","display","innerWidth","innerHeight","left","top","draw","setInterval","fps","document","title","ticker","stop","start","body","appendChild","bindFrameRate","setCurrentScene","_experiment","run","started","pause","resume","g","Function","eval","e","window","module","exports","MAX_CLOUDS","MAX_STARS","SCENE_HEIGHT","SCENE_WIDTH","Landing","clouds","Array","stars","fwparticles","welcome","Text","fontFamily","fill","fontSize","fontWeight","alpha","attach","container","addChild","vars","halfpan","panning","fading","presenting","texttimer","performance","now","bridgeContainer","Container","bridge","Graphics","mask","pady","lineStyle","moveTo","quadraticCurveTo","i","lineTo","sqrt","glow","extras","PictureSprite","getOne","blendMode","BLEND_MODES","OVERLAY","anchor","scale","bridgelights","light","beginFill","endFill","overlay","startexture","starsContainer","particles","ParticleContainer","Sprite","pluginName","setMax","setMinVelocity","setMaxVelocity","setMin","filters","AlphaFilter","filterArea","Rectangle","createBridge","PX","PY","CTN","velmod","pcolor","FIREWORK_COUNT","firework","color","p","tint","angle","PI","velocity","cos","sin","addForce","fromFunction","addChildAt","fw1","launchFirework","fw2","fw3","updateText","updateFade","updatePan","cloud","fireworksCheck","rippleSprite","Scene","dependencies","camera","Error","dep","Stage","scenes","autoDetectRenderer","antialias","currentScene","transition","setup","render","scene","current"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;kBC5De,UAASA,MAAT,EAAiBC,OAAjB,EAA0BC,KAA1B,EAAiC;AAC5CC,YAAQC,GAAR,OAAgB,IAAIC,IAAJ,GAAWC,QAAX,EAAhB,WAA2CN,MAA3C,GAAoD,IAAIO,MAAJ,CAAWC,wBAAwBR,OAAOS,MAA1C,CAApD,YAA4GR,OAA5G;AACH,C;;AAHD,IAAMO,wBAAwB,EAA9B,C;;;;;;;;;;;;kBCAe;AACXE,WAAQ,IADG;AAEXC,YAAQ,IAFG;;AAIXC,eAAY;AACRC,oBAAa;AADL;AAJD,C;;;;;;;;;;;;;;;ACAf;;;;;;;;AAEA,IAAMC,SAAS,EAAf;AACA,IAAIC,WAAW,KAAf;;IAEMC,K;AACF,mBAAYC,IAAZ,EAAkBC,IAAlB,EAAwB;AAAA;;AACpB,aAAKD,IAAL,GAAYA,IAAZ;AACA,aAAKC,IAAL,GAAYA,IAAZ;AACA,aAAKC,MAAL,GAAc,KAAd;AACH;;;;oCAEWC,G,EAAK;AACb,iBAAKC,QAAL,GAAgBD,GAAhB;AACA,iBAAKD,MAAL,GAAc,IAAd;AACH;;;;;;IAGCG,M;;;;;;;4BACSC,I,EAAMN,I,EAAsB;AAAA,gBAAhBC,IAAgB,uEAAT,OAAS;;AACnC,gBAAI,CAACJ,OAAOS,IAAP,CAAL,EAAmB;AACf,mCAAI,QAAJ,EAAc,2BAA2BN,IAA3B,GAAkC,aAAlC,GAAkDM,IAAhE;AACAT,uBAAOS,IAAP,IAAe,IAAIP,KAAJ,CAAUC,IAAV,EAAgBC,IAAhB,CAAf;AACAM,qBAAKC,MAAL,CAAYC,GAAZ,CAAgBH,IAAhB,EAAsBN,IAAtB;AACAF,2BAAW,IAAX;AACH;AACJ;;;+BAEaQ,I,EAAM;AAChB,mBAAOT,OAAOS,IAAP,CAAP;AACH;;;6BAEWA,I,EAAM;AACdT,mBAAOS,IAAP,KAAgBT,OAAOS,IAAP,EAAaJ,MAA7B,IAAuCL,OAAOS,IAAP,EAAaF,QAAb,CAAsBM,OAAtB,CAA8BC,OAA9B,EAAvC;AACA,mBAAOd,OAAOS,IAAP,CAAP;AACH;;;6BAEWM,I,EAAM;AACd,gBAAI,CAACd,QAAL,EAAe;AACX,mCAAI,QAAJ,EAAc,+BAAd;AACA,uBAAOc,MAAP;AACH;;AAED,+BAAI,QAAJ,EAAc,4BAAd;AACAL,iBAAKC,MAAL,CAAYK,IAAZ,CAAiB,UAACL,MAAD,EAASL,GAAT,EAAiB;AAC9BW,uBAAOC,IAAP,CAAYZ,GAAZ,EAAiBa,OAAjB,CAAyB,gBAAQ;AAC7BnB,2BAAOS,IAAP,EAAaW,WAAb,CAAyBd,IAAIG,IAAJ,CAAzB;AACH,iBAFD;;AAIAR,2BAAW,KAAX;;AAEA,mCAAI,QAAJ,EAAc,0CAAd;AACAc;AACH,aATD;AAUH;;;;;;kBAGUP,M;;;;;;;;;;;;;;;;;ICzDFa,M,WAAAA,M;AACT,sBAA0D;AAAA,YAA9CC,CAA8C,uEAA1C,CAA0C;AAAA,YAAvCC,CAAuC,uEAAnC,CAAmC;AAAA,YAAhCC,EAAgC,uEAA3B,CAA2B;AAAA,YAAxBC,EAAwB,uEAAnB,CAAmB;AAAA,YAAhBC,EAAgB,uEAAX,CAAW;AAAA,YAARC,EAAQ,uEAAH,CAAG;;AAAA;;AACtD,aAAKL,CAAL,GAASA,CAAT;AACA,aAAKC,CAAL,GAASA,CAAT;;AAEA,aAAKC,EAAL,GAAUA,EAAV;AACA,aAAKC,EAAL,GAAUA,EAAV;;AAEA,aAAKC,EAAL,GAAUA,EAAV;AACA,aAAKC,EAAL,GAAUA,EAAV;;AAEA,aAAKC,EAAL,GAAUC,OAAOC,gBAAjB;AACA,aAAKC,EAAL,GAAUF,OAAOC,gBAAjB;AACA,aAAKE,IAAL,GAAYH,OAAOI,gBAAnB;AACA,aAAKC,IAAL,GAAYL,OAAOI,gBAAnB;;AAEA,aAAKE,GAAL,GAAWN,OAAOC,gBAAlB;AACA,aAAKM,GAAL,GAAWP,OAAOC,gBAAlB;AACA,aAAKO,KAAL,GAAaR,OAAOI,gBAApB;AACA,aAAKK,KAAL,GAAaT,OAAOI,gBAApB;;AAEA,aAAKM,MAAL,GAAc,EAAd;AACH;;;;iCAEkE;AAAA,gBAA5DX,EAA4D,uEAAvDC,OAAOC,gBAAgD;AAAA,gBAA9BC,EAA8B,uEAAzBF,OAAOC,gBAAkB;;AAC/D,iBAAKF,EAAL,GAAUA,EAAV;AACA,iBAAKG,EAAL,GAAUA,EAAV;AACH;;;iCAEsE;AAAA,gBAAhEC,IAAgE,uEAAzDH,OAAOI,gBAAkD;AAAA,gBAAhCC,IAAgC,uEAAzBL,OAAOI,gBAAkB;;AACnE,iBAAKD,IAAL,GAAYA,IAAZ;AACA,iBAAKE,IAAL,GAAYA,IAAZ;AACH;;;yCAE4E;AAAA,gBAA9DC,GAA8D,uEAAxDN,OAAOC,gBAAiD;AAAA,gBAA/BM,GAA+B,uEAAzBP,OAAOC,gBAAkB;;AACzE,iBAAKK,GAAL,GAAWA,GAAX;AACA,iBAAKC,GAAL,GAAWA,GAAX;AACH;;;yCAEgF;AAAA,gBAAlEC,KAAkE,uEAA1DR,OAAOI,gBAAmD;AAAA,gBAAjCK,KAAiC,uEAAzBT,OAAOI,gBAAkB;;AAC7E,iBAAKI,KAAL,GAAaA,KAAb;AACA,iBAAKC,KAAL,GAAaA,KAAb;AACH;;;4BAEGE,M,EAAQ;AACR,iBAAKlB,CAAL,IAAUkB,OAAOlB,CAAjB;AACA,iBAAKC,CAAL,IAAUiB,OAAOjB,CAAjB;AACH;;;4BAEGiB,M,EAAQ;AACR,iBAAKlB,CAAL,IAAUkB,OAAOlB,CAAjB;AACA,iBAAKC,CAAL,IAAUiB,OAAOjB,CAAjB;AACH;;;iCAEQ;AAAA;;AACL,gBAAI,KAAKkB,MAAT,EAAiB;AAAE;AAAS;;AAE5B,iBAAKjB,EAAL,IAAW,KAAKE,EAAhB;AACA,iBAAKD,EAAL,IAAW,KAAKE,EAAhB;;AAEA,gBAAI,KAAKH,EAAL,GAAU,KAAKW,GAAnB,EAAwB;AACpB,qBAAKX,EAAL,GAAU,KAAKW,GAAf;AACH,aAFD,MAEO,IAAI,KAAKX,EAAL,GAAU,KAAKa,KAAnB,EAA0B;AAC7B,qBAAKb,EAAL,GAAU,KAAKa,KAAf;AACH;;AAED,gBAAI,KAAKZ,EAAL,GAAU,KAAKW,GAAnB,EAAwB;AACpB,qBAAKX,EAAL,GAAU,KAAKW,GAAf;AACH,aAFD,MAEO,IAAI,KAAKX,EAAL,GAAU,KAAKa,KAAnB,EAA0B;AAC7B,qBAAKb,EAAL,GAAU,KAAKa,KAAf;AACH;;AAED,iBAAKhB,CAAL,IAAU,KAAKE,EAAf;AACA,iBAAKD,CAAL,IAAU,KAAKE,EAAf;;AAEA,gBAAI,KAAKH,CAAL,GAAS,KAAKM,EAAlB,EAAsB;AAClB,qBAAKN,CAAL,GAAS,KAAKM,EAAd;AACH,aAFD,MAEO,IAAI,KAAKN,CAAL,GAAS,KAAKU,IAAlB,EAAwB;AAC3B,qBAAKV,CAAL,GAAS,KAAKU,IAAd;AACH;;AAED,gBAAI,KAAKT,CAAL,GAAS,KAAKQ,EAAlB,EAAsB;AAClB,qBAAKR,CAAL,GAAS,KAAKQ,EAAd;AACH,aAFD,MAEO,IAAI,KAAKR,CAAL,GAAS,KAAKW,IAAlB,EAAwB;AAC3B,qBAAKX,CAAL,GAAS,KAAKW,IAAd;AACH;;AAED,iBAAKK,MAAL,CAAYpB,OAAZ,CAAoB;AAAA,uBAAKG,EAAEoB,MAAF,OAAL;AAAA,aAApB;;AAEA,gBAAI,KAAKC,SAAT,EAAoB;AAChB,qBAAKA,SAAL,CAAerB,CAAf,GAAmB,KAAKA,CAAxB;AACA,qBAAKqB,SAAL,CAAepB,CAAf,GAAmB,KAAKA,CAAxB;AACH;AACJ;;;iCAEQ;AACL,iBAAKkB,MAAL,GAAc,IAAd;AACH;;;iCAEQG,K,EAAO;AACZ,iBAAKL,MAAL,CAAYM,IAAZ,CAAiBD,KAAjB;AACH;;;+BAEMD,S,EAAW;AACd,iBAAKA,SAAL,GAAiBA,SAAjB;AACH;;;;;;IAGQG,K,WAAAA,K;;;qCACWC,E,EAAI;AACpB,mBAAO,EAAEL,QAASK,EAAX,EAAP;AACH;;;AAED,qBAA4C;AAAA,YAAhCvB,EAAgC,uEAA3B,CAA2B;AAAA,YAAxBC,EAAwB,uEAAnB,CAAmB;AAAA,YAAhBC,EAAgB,uEAAX,CAAW;AAAA,YAARC,EAAQ,uEAAH,CAAG;;AAAA;;AACxC,aAAKH,EAAL,GAAUA,EAAV;AACA,aAAKC,EAAL,GAAUA,EAAV;AACA,aAAKC,EAAL,GAAUA,EAAV;AACA,aAAKC,EAAL,GAAUA,EAAV;AACH;;;;+BAEMa,M,EAAQ;AACX,iBAAKhB,EAAL,IAAW,KAAKE,EAAhB;AACA,iBAAKD,EAAL,IAAW,KAAKE,EAAhB;;AAEAa,mBAAOlB,CAAP,IAAY,KAAKE,EAAjB;AACAgB,mBAAOjB,CAAP,IAAY,KAAKE,EAAjB;AACH;;;;;;IAGQuB,K,WAAAA,K;;;;;;;+BACKC,G,EAAKC,G,EAAK;AACpB,mBAAOC,KAAKC,MAAL,MAAiBF,MAAMD,GAAvB,IAA8BA,GAArC;AACH;;;;;;;;;;;;;;;ACpIL;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAMI,gBAAgB,SAAhBA,aAAgB,CAACC,OAAD,EAAa;AAC/B,QAAIC,OAAO,IAAIC,cAAJ,EAAX;AACAD,SAAKE,gBAAL,CAAsB,MAAtB,EAA8BH,OAA9B;AACAC,SAAKG,IAAL,CAAU,KAAV,EAAiB,uCAAjB;AACAH,SAAKI,IAAL;AACH,CALD;;AAOAC,OAAOC,MAAP,GAAgB,CAAhB;;IACMC,U;AACF,0BAAc;AAAA;;AACVF,eAAOH,gBAAP,CAAwB,QAAxB,EAAkC,KAAKM,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAlC;;AAEA,aAAKC,GAAL,GAAW,IAAIvD,KAAKwD,WAAT,CAAqB,iBAAOtE,KAA5B,EAAmC,iBAAOC,MAA1C,EAAkD,iBAAOC,SAAzD,CAAX;AACA,aAAKqE,KAAL,GAAa,oBAAU,KAAKF,GAAf,EAAoBvD,IAApB,CAAb;;AAEA,aAAKyD,KAAL,CAAWC,QAAX,CAAoB,SAApB,EAA+B,sBAAY,KAAKH,GAAjB,CAA/B;AACH;;;;uCAEc;AACX,gBAAMI,QAAQ,iBAAOzE,KAAP,GAAe,iBAAOC,MAApC;;AAEA,iBAAKyE,aAAL,GAAqB,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,IAAzC;AACA,iBAAKF,aAAL,CAAmBG,KAAnB,CAAyBC,QAAzB,GAAoC,UAApC;AACA,iBAAKJ,aAAL,CAAmBG,KAAnB,CAAyBE,OAAzB,GAAmC,OAAnC;;AAEA,gBAAIf,OAAOgB,UAAP,IAAqB,iBAAOhF,KAAhC,EAAuC;AACnC,qBAAK0E,aAAL,CAAmBG,KAAnB,CAAyB7E,KAAzB,GAAkCgE,OAAOiB,WAAP,GAAqBR,KAAtB,GAA+B,IAAhE;AACA,qBAAKC,aAAL,CAAmBG,KAAnB,CAAyB5E,MAAzB,GAAkC,MAAlC;AACA,qBAAKyE,aAAL,CAAmBG,KAAnB,CAAyBK,IAAzB,GAAiC,CAAClB,OAAOgB,UAAP,GAAqBhB,OAAOiB,WAAP,GAAqBR,KAA3C,IAAqD,CAAtD,GAA2D,IAA3F;AACA,qBAAKC,aAAL,CAAmBG,KAAnB,CAAyBM,GAAzB,GAA+B,CAA/B;AACH,aALD,MAKO;AACH,qBAAKT,aAAL,CAAmBG,KAAnB,CAAyB7E,KAAzB,GAAiC,MAAjC;AACA,qBAAK0E,aAAL,CAAmBG,KAAnB,CAAyB5E,MAAzB,GAAmC+D,OAAOgB,UAAP,GAAoBP,KAArB,GAA8B,IAAhE;AACA,qBAAKC,aAAL,CAAmBG,KAAnB,CAAyBK,IAAzB,GAAgC,CAAhC;AACA,qBAAKR,aAAL,CAAmBG,KAAnB,CAAyBM,GAAzB,GAAgC,CAACnB,OAAOiB,WAAP,GAAsBjB,OAAOgB,UAAP,GAAoBP,KAA3C,IAAqD,CAAtD,GAA2D,IAA1F;AACH;AACJ;;;iCAEQ;AACLT,mBAAOC,MAAP;AACA,iBAAKM,KAAL,CAAWzB,MAAX;AACH;;;+BAEM;AACH,iBAAKyB,KAAL,CAAWa,IAAX;AACH;;;wCAEe;AACZ,+BAAI,YAAJ,EAAkB,mBAAlB;AACAC,wBAAY,YAAM;AACdrB,uBAAOsB,GAAP,GAAatB,OAAOC,MAAP,GAAgB,CAA7B;AACAsB,yBAASC,KAAT,GAAiBxB,OAAOsB,GAAP,GAAa,MAA9B;AACAtB,uBAAOC,MAAP,GAAgB,CAAhB;AACH,aAJD,EAIG,GAJH;AAKH;;;gCAEQ;AAAE,iBAAKI,GAAL,CAASoB,MAAT,CAAgBC,IAAhB;AAA0B;;;iCAC5B;AAAE,iBAAKrB,GAAL,CAASoB,MAAT,CAAgBE,KAAhB;AAA0B;;;8BAE/B;AAAA;;AACFJ,qBAASK,IAAT,CAAcC,WAAd,CAA0B,KAAKtB,KAAL,CAAWI,QAAX,CAAoBC,IAA9C;;AAEA,iBAAKkB,aAAL;AACA,iBAAKvB,KAAL,CAAWwB,eAAX,CAA2B,SAA3B,EAAsC,KAAtC,EAA6C,YAAM;AAC/C,sBAAK5B,YAAL;;AAEA,mCAAI,YAAJ,EAAkB,qCAAlB;AACA,sBAAKE,GAAL,CAASoB,MAAT,CAAgBzE,GAAhB,CAAoB,YAAM;AACtB,0BAAK8B,MAAL;AACA,0BAAKsC,IAAL;AACH,iBAHD;AAIH,aARD;AASH;;;;;;AACJ;;AAED3B,cAAc,YAAM;AAChBO,WAAOgC,WAAP,GAAqB,IAAI9B,UAAJ,EAArB;AACA8B,gBAAYC,GAAZ;AACH,CAHD;;AAKAV,SAAS1B,gBAAT,CAA0B,SAA1B,EAAqC,YAAM;AAAEmC,gBAAY3B,GAAZ,CAAgBoB,MAAhB,CAAuBS,OAAvB,GAAiCF,YAAYG,KAAZ,EAAjC,GAAuDH,YAAYI,MAAZ,EAAvD;AAA8E,CAA3H,E;;;;;;;;;;;;ACrFA,IAAIC,CAAJ;;AAEA;AACAA,IAAK,YAAW;AACf,QAAO,IAAP;AACA,CAFG,EAAJ;;AAIA,IAAI;AACH;AACAA,KAAIA,KAAKC,SAAS,aAAT,GAAL,IAAkC,CAAC,GAAEC,IAAH,EAAS,MAAT,CAAtC;AACA,CAHD,CAGE,OAAMC,CAAN,EAAS;AACV;AACA,KAAG,QAAOC,MAAP,yCAAOA,MAAP,OAAkB,QAArB,EACCJ,IAAII,MAAJ;AACD;;AAED;AACA;AACA;;AAEAC,OAAOC,OAAP,GAAiBN,CAAjB,C;;;;;;;;;;;;;;;ACpBA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA,IAAMO,aAAa,CAAnB;AACA,IAAMC,YAAY,KAAlB;;AAEA,IAAMC,eAAe,IAArB;AACA,IAAMC,cAAc,iBAAO/G,KAA3B;;IAEMgH,O;;;AACF,qBAAY3C,GAAZ,EAAiB;AAAA;;AAAA,iHACPA,GADO,EACF,CACP,EAAExD,MAAO,aAAT,EAAwBN,MAAO,kBAA/B,EADO,EAEP,EAAEM,MAAO,KAAT,EAAgBN,MAAO,gBAAvB,EAFO,EAGP,EAAEM,MAAO,UAAT,EAAqBN,MAAO,qBAA5B,EAHO,EAIP,EAAEM,MAAO,MAAT,EAAiBN,MAAO,iBAAxB,EAJO,EAKP,EAAEM,MAAO,OAAT,EAAkBN,MAAO,kBAAzB,EALO,CADE;AAQhB;;;;gCAEO;AACJ,iBAAK0G,MAAL,GAAc,IAAIC,KAAJ,CAAUN,UAAV,CAAd;AACA,iBAAKO,KAAL,GAAa,IAAID,KAAJ,CAAUL,SAAV,CAAb;AACA,iBAAKO,WAAL,GAAmB,EAAnB;;AAEA;AACA,iBAAKC,OAAL,GAAe,IAAIvG,KAAKwG,IAAT,CAAc,kEAAd,EAAkF;AAC7FC,4BAAa,iBADgF;AAE7FC,sBAAO,QAFsF;AAG7FC,0BAAW,MAHkF;AAI7FC,4BAAa;AAJgF,aAAlF,CAAf;;AAOA,iBAAKL,OAAL,CAAazE,MAAb,GAAsB,oBAAW,iBAAO5C,KAAP,GAAe,CAAf,GAAmB,KAAKqH,OAAL,CAAarH,KAAb,GAAqB,CAAnD,EAAsD,iBAAOC,MAAP,GAAgB,CAAhB,GAAoB,EAA1E,CAAtB;AACA,iBAAKoH,OAAL,CAAaM,KAAb,GAAqB,CAArB;AACA,iBAAKN,OAAL,CAAazE,MAAb,CAAoBgF,MAApB,CAA2B,KAAKP,OAAhC;AACA,iBAAKA,OAAL,CAAazE,MAAb,CAAoBE,MAApB;;AAEA,iBAAK+E,SAAL,CAAeC,QAAf,CAAwB,KAAKT,OAA7B;;AAEA,iBAAKU,IAAL,CAAUC,OAAV,GAAoB,EAAElB,eAAe,iBAAO7G,MAAxB,IAAkC,CAAtD;AACA,iBAAK8H,IAAL,CAAUE,OAAV,GAAoB,KAApB;AACA,iBAAKF,IAAL,CAAUG,MAAV,GAAmB,KAAnB;AACA,iBAAKH,IAAL,CAAUI,UAAV,GAAuB,IAAvB;;AAEA,iBAAKJ,IAAL,CAAUK,SAAV,GAAsBC,YAAYC,GAAZ,KAAoB,IAA1C;AACH;;;uCAEc;AACX,gBAAMC,kBAAkB,IAAIzH,KAAK0H,SAAT,EAAxB;AACA,gBAAMC,SAAS,IAAI3H,KAAK4H,QAAT,EAAf;AACA,gBAAMC,OAAO,IAAI7H,KAAK4H,QAAT,EAAb;AACA,gBAAME,OAAO,IAAb;;AAEA,aAACH,MAAD,EAASE,IAAT,EAAepH,OAAf,CAAuB,kBAAU;AAC7B;AACAkH,uBAAOI,SAAP,CAAiB,EAAjB,EAAqB,QAArB,EAA+B,CAA/B;AACAJ,uBAAOK,MAAP,CAAc,CAAC,GAAf,EAAoB,MAAMF,IAA1B;AACAH,uBAAOM,gBAAP,CAAwB,GAAxB,EAA6B,MAAMH,IAAnC,EAAyC,GAAzC,EAA8C,MAAMA,IAApD;AACAH,uBAAOM,gBAAP,CAAwB,IAAxB,EAA8B,MAAMH,IAApC,EAA0C,IAA1C,EAAgD,MAAMA,IAAtD;AACAH,uBAAOM,gBAAP,CAAwB,IAAxB,EAA8B,MAAMH,IAApC,EAA0C,IAA1C,EAAgD,MAAMA,IAAtD;AACAH,uBAAOK,MAAP,CAAc,IAAd,EAAoB,MAAMF,IAA1B;AACAH,uBAAOM,gBAAP,CAAwB,IAAxB,EAA8B,MAAMH,IAApC,EAA0C,CAAC,GAA3C,EAAgD,MAAMA,IAAtD;;AAEA;AACAH,uBAAOI,SAAP,CAAiB,EAAjB,EAAqB,QAArB,EAA+B,CAA/B;AACAJ,uBAAOK,MAAP,CAAc,CAAC,GAAf,EAAoB,MAAMF,IAA1B;AACAH,uBAAOM,gBAAP,CAAwB,GAAxB,EAA6B,MAAMH,IAAnC,EAAyC,GAAzC,EAA8C,MAAMA,IAApD;AACAH,uBAAOM,gBAAP,CAAwB,IAAxB,EAA8B,MAAMH,IAApC,EAA0C,IAA1C,EAAgD,MAAMA,IAAtD;AACAH,uBAAOM,gBAAP,CAAwB,IAAxB,EAA8B,MAAMH,IAApC,EAA0C,IAA1C,EAAgD,MAAMA,IAAtD;;AAEA;AACAH,uBAAOK,MAAP,CAAc,GAAd,EAAmB,MAAMF,IAAzB;AACA,qBAAK,IAAII,IAAI,GAAb,EAAkBA,KAAK,GAAvB,EAA4BA,KAAG,GAA/B,EAAoC;AAChCP,2BAAOQ,MAAP,CAAcD,CAAd,EAAiB,MAAMJ,IAAN,GAAa,CAACI,IAAI,GAAL,IAAY,EAAzB,GAA8BzF,KAAK2F,IAAL,CAAUF,CAAV,CAA9B,GAA6C,EAA9D;AACAP,2BAAOQ,MAAP,CAAcD,IAAI,GAAlB,EAAuB,MAAMJ,IAA7B;AACH;;AAEDH,uBAAOK,MAAP,CAAc,IAAd,EAAoB,MAAMF,IAA1B;AACA,qBAAK,IAAII,KAAI,IAAb,EAAmBA,MAAK,IAAxB,EAA8BA,MAAG,GAAjC,EAAsC;AAClCP,2BAAOQ,MAAP,CAAcD,EAAd,EAAiB,MAAMJ,IAAN,GAAa,CAAC,OAAOI,EAAR,IAAa,EAA1B,GAA+BzF,KAAK2F,IAAL,CAAUF,EAAV,CAA/B,GAA8C,EAA/D;AACAP,2BAAOQ,MAAP,CAAcD,KAAI,GAAlB,EAAuB,MAAMJ,IAA7B;AACH;AACDH,uBAAOQ,MAAP,CAAc,IAAd,EAAoB,MAAML,IAA1B;AACH,aA9BD;;AAgCAL,4BAAgBT,QAAhB,CAAyBW,MAAzB;AACA,iBAAKA,MAAL,GAAcA,MAAd;;AAEAA,mBAAOE,IAAP,GAAcA,IAAd;AACAJ,4BAAgBT,QAAhB,CAAyBa,IAAzB;;AAEA,gBAAIQ,OAAO,IAAIrI,KAAKsI,MAAL,CAAYC,aAAhB,CAA8B,iBAAOC,MAAP,CAAc,MAAd,EAAsB3I,QAAtB,CAA+BM,OAA7D,CAAX;AACAkI,iBAAKI,SAAL,GAAiBzI,KAAK0I,WAAL,CAAiBC,OAAlC;AACAN,iBAAKzH,CAAL,GAAS,iBAAO1B,KAAP,GAAe,CAAxB;AACAmJ,iBAAKxH,CAAL,GAASmF,YAAT;AACAqC,iBAAKO,MAAL,CAAYhI,CAAZ,GAAgB,EAAhB;AACAyH,iBAAKO,MAAL,CAAY/H,CAAZ,GAAgB,EAAhB;AACAwH,iBAAKQ,KAAL,CAAWjI,CAAX,GAAe,CAAf;AACAyH,iBAAKQ,KAAL,CAAWhI,CAAX,GAAe,CAAf;AACA4G,4BAAgBT,QAAhB,CAAyBqB,IAAzB;;AAEA,gBAAMS,eAAe,EAArB;AACA,iBAAK,IAAIZ,IAAI,GAAb,EAAkBA,IAAI,IAAtB,EAA4BA,KAAK,GAAjC,EAAsC;AAClC,oBAAIa,QAAQ,IAAI/I,KAAKsI,MAAL,CAAYC,aAAhB,CAA8B,iBAAOC,MAAP,CAAc,MAAd,EAAsB3I,QAAtB,CAA+BM,OAA7D,CAAZ;AACA2I,6BAAa3G,IAAb,CAAkB4G,KAAlB;AACAA,sBAAMH,MAAN,CAAahI,CAAb,GAAiB,EAAjB;AACAmI,sBAAMH,MAAN,CAAa/H,CAAb,GAAiB,EAAjB;;AAEAkI,sBAAMnI,CAAN,GAAUsH,CAAV;AACAa,sBAAMlI,CAAN,GAAUiH,OAAO,GAAjB;AACAiB,sBAAMF,KAAN,CAAYjI,CAAZ,GAAgB,EAAhB;AACAmI,sBAAMF,KAAN,CAAYhI,CAAZ,GAAgB,EAAhB;AACAkI,sBAAMN,SAAN,GAAkBzI,KAAK0I,WAAL,CAAiBC,OAAnC;AACAlB,gCAAgBT,QAAhB,CAAyB+B,KAAzB;AACH;;AAED,mBAAOtB,eAAP;AACH;;;qCAEY;AACT,gBAAI,KAAKR,IAAL,CAAUK,SAAV,GAAsBC,YAAYC,GAAZ,EAA1B,EAA6C;AACzC,qBAAKjB,OAAL,CAAaM,KAAb,IAAsB,IAAtB;AACA,oBAAI,KAAKN,OAAL,CAAaM,KAAb,IAAsB,CAA1B,EAA6B;AACzB,yBAAKN,OAAL,CAAaM,KAAb,GAAqB,CAArB;AACH;AACJ,aALD,MAKO;AACH,qBAAKN,OAAL,CAAaM,KAAb,IAAsB,IAAtB;AACA,oBAAI,KAAKN,OAAL,CAAaM,KAAb,IAAsB,CAA1B,EAA6B;AAAA;;AACzB,yBAAKxH,UAAL,GAAkB,IAAIW,KAAK4H,QAAT,EAAlB;AACA,yBAAKvI,UAAL,CAAgB2J,SAAhB,CAA0B,QAA1B;AACA,yBAAK3J,UAAL,CAAgB2I,MAAhB,CAAuB,CAAvB,EAA0B,CAA1B;AACA,yBAAK3I,UAAL,CAAgB8I,MAAhB,CAAuB,CAAvB,EAA0BnC,YAA1B;AACA,yBAAK3G,UAAL,CAAgB8I,MAAhB,CAAuBlC,WAAvB,EAAoCD,YAApC;AACA,yBAAK3G,UAAL,CAAgB8I,MAAhB,CAAuBlC,WAAvB,EAAoC,CAApC;AACA,yBAAK5G,UAAL,CAAgB8I,MAAhB,CAAuB,CAAvB,EAA0B,CAA1B;AACA,yBAAK9I,UAAL,CAAgB4J,OAAhB;;AAEA,yBAAKC,OAAL,GAAe,IAAIlJ,KAAK4H,QAAT,EAAf;AACA,yBAAKsB,OAAL,CAAaF,SAAb,CAAuB,CAAvB;AACA,yBAAKE,OAAL,CAAalB,MAAb,CAAoB,CAApB,EAAuB,CAAvB;AACA,yBAAKkB,OAAL,CAAaf,MAAb,CAAoB,CAApB,EAAuB,iBAAOhJ,MAA9B;AACA,yBAAK+J,OAAL,CAAaf,MAAb,CAAoB,iBAAOjJ,KAA3B,EAAkC,iBAAOC,MAAzC;AACA,yBAAK+J,OAAL,CAAaf,MAAb,CAAoB,iBAAOjJ,KAA3B,EAAkC,CAAlC;AACA,yBAAKgK,OAAL,CAAaf,MAAb,CAAoB,CAApB,EAAuB,CAAvB;AACA,yBAAKe,OAAL,CAAaD,OAAb;AACA,yBAAKC,OAAL,CAAarC,KAAb,GAAqB,CAArB;;AAEA,wBAAMsC,cAAc,iBAAOX,MAAP,CAAc,OAAd,EAAuB3I,QAAvB,CAAgCM,OAApD;AACA,yBAAKiJ,cAAL,GAAsB,IAAIpJ,KAAKqJ,SAAL,CAAeC,iBAAnB,CAAqCvD,SAArC,EAAgD,EAAEc,OAAQ,IAAV,EAAhD,CAAtB;AACA,yBAAKuC,cAAL,CAAoBlK,KAApB,GAA4B+G,WAA5B;AACA,yBAAKmD,cAAL,CAAoBjK,MAApB,GAA6B6G,YAA7B;AACA,yBAAK,IAAIkC,IAAI,CAAb,EAAgBA,IAAInC,SAApB,EAA+BmC,GAA/B,EAAoC;AAChC,6BAAK7B,KAAL,CAAW6B,CAAX,IAAgB,IAAIlI,KAAKuJ,MAAT,CAAgBJ,WAAhB,CAAhB;AACA,6BAAK9C,KAAL,CAAW6B,CAAX,EAActH,CAAd,GAAkB6B,KAAKC,MAAL,KAAgBuD,WAAlC;AACA,6BAAKI,KAAL,CAAW6B,CAAX,EAAcrH,CAAd,GAAkB4B,KAAKC,MAAL,KAAgBsD,YAAlC;AACA,6BAAKK,KAAL,CAAW6B,CAAX,EAAchJ,KAAd,GAAsBuD,KAAKC,MAAL,KAAgB,CAAtC;AACA,6BAAK2D,KAAL,CAAW6B,CAAX,EAAc/I,MAAd,GAAuB,KAAKkH,KAAL,CAAW6B,CAAX,EAAchJ,KAArC;;AAEA,6BAAKkK,cAAL,CAAoBpC,QAApB,CAA6B,KAAKX,KAAL,CAAW6B,CAAX,CAA7B;AACH;;AAED,uCAAI,SAAJ,EAAe,cAAcpC,UAAd,GAA2B,SAA1C;AACA,yBAAK,IAAIoC,MAAI,CAAb,EAAgBA,MAAIpC,UAApB,EAAgCoC,KAAhC,EAAqC;AACjC,6BAAK/B,MAAL,CAAY+B,GAAZ,IAAiB,IAAIlI,KAAKsI,MAAL,CAAYC,aAAhB,CAA8B,iBAAOC,MAAP,CAAc,aAAd,EAA6B3I,QAA7B,CAAsCM,OAApE,CAAjB;AACA,6BAAKgG,MAAL,CAAY+B,GAAZ,EAAesB,UAAf,GAA4B,SAA5B;;AAEA,6BAAKrD,MAAL,CAAY+B,GAAZ,EAAepG,MAAf,GAAwB,oBACpBW,KAAKC,MAAL,KAAgBuD,WAAhB,GAA8B,KAAKE,MAAL,CAAY+B,GAAZ,EAAehJ,KAAf,GAAuB,CADjC,EAEpBuD,KAAKC,MAAL,KAAgB,iBAAOvD,MAAvB,GAAgC,KAAKgH,MAAL,CAAY+B,GAAZ,EAAe/I,MAAf,GAAwB,CAFpC,EAGpBsD,KAAKC,MAAL,EAHoB,CAAxB;AAKA,6BAAKyD,MAAL,CAAY+B,GAAZ,EAAepG,MAAf,CAAsB2H,MAAtB,CAA6B,iBAAOvK,KAApC;AACA,6BAAKiH,MAAL,CAAY+B,GAAZ,EAAepG,MAAf,CAAsBgF,MAAtB,CAA6B,KAAKX,MAAL,CAAY+B,GAAZ,CAA7B;AACA,6BAAK/B,MAAL,CAAY+B,GAAZ,EAAeO,SAAf,GAA2BzI,KAAK0I,WAAL,CAAiBC,OAA5C;AACA,6BAAKxC,MAAL,CAAY+B,GAAZ,EAAerB,KAAf,GAAuBpE,KAAKC,MAAL,EAAvB;AACH;;AAED,yBAAKqE,SAAL,CAAejF,MAAf,CAAsB4H,cAAtB,CAAqC,CAArC,EAAwC,CAAC,IAAzC;AACA,yBAAK3C,SAAL,CAAejF,MAAf,CAAsB6H,cAAtB,CAAqC,CAArC,EAAwC,CAAxC;AACA,yBAAK5C,SAAL,CAAejF,MAAf,CAAsB8H,MAAtB,CAA6B,CAA7B,EAAgC,EAAE5D,eAAe,iBAAO7G,MAAxB,CAAhC;;AAEA,yBAAK4H,SAAL,CAAe8C,OAAf,GAAyB,CAAC,IAAI7J,KAAK6J,OAAL,CAAaC,WAAjB,EAAD,CAAzB;AACA,yBAAK/C,SAAL,CAAegD,UAAf,GAA4B,IAAI/J,KAAKgK,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,iBAAO9K,KAAhC,EAAuC,iBAAOC,MAA9C,CAA5B;AACA,uCAAK4H,SAAL,EAAeC,QAAf,oBAAwB,KAAK3H,UAA7B,EAAyC,KAAK+J,cAA9C,EAA8D,KAAKa,YAAL,EAA9D,4BAAsF,KAAK9D,MAA3F,IAAmG,KAAK+C,OAAxG;;AAEA;AACA,yBAAKjC,IAAL,CAAUI,UAAV,GAAuB,KAAvB;AACA,yBAAKJ,IAAL,CAAUG,MAAV,GAAmB,IAAnB;AACH;AACJ;AACJ;;;yCAE8E;AAAA,gBAAhE8C,EAAgE,uEAA3D,GAA2D;AAAA,gBAAtDC,EAAsD,uEAAjD,GAAiD;AAAA,gBAA5CC,GAA4C,uEAAtC,IAAsC;AAAA,gBAAhCC,MAAgC,uEAAvB,EAAuB;AAAA,gBAAnBC,MAAmB,uEAAV,QAAU;;AAC3E,gBAAMC,iBAAiBH,GAAvB;AACA,iBAAKI,QAAL,GAAgB,IAAIxK,KAAKqJ,SAAL,CAAeC,iBAAnB,CAAqCiB,cAArC,EAAqD,EAAEvG,UAAW,IAAb,EAAmB6E,OAAQ,IAA3B,EAArD,CAAhB;AACA,iBAAK2B,QAAL,CAActL,KAAd,GAAsB+G,WAAtB;AACA,iBAAKuE,QAAL,CAAcrL,MAAd,GAAuB6G,YAAvB;;AAEA,gBAAMyE,QAAQH,MAAd;AACA,gBAAMnK,UAAU,iBAAOqI,MAAP,CAAc,OAAd,EAAuB3I,QAAvB,CAAgCM,OAAhD;AACA,iBAAK,IAAI+H,IAAI,CAAb,EAAgBA,IAAIqC,cAApB,EAAoCrC,GAApC,EAAyC;AACrC,oBAAMwC,IAAI,IAAI1K,KAAKuJ,MAAT,CAAgBpJ,OAAhB,CAAV;AACAuK,kBAAE9J,CAAF,GAAMsJ,EAAN;AACAQ,kBAAE7J,CAAF,GAAMsJ,EAAN;AACAO,kBAAExL,KAAF,GAAUuD,KAAKC,MAAL,KAAgB,CAA1B;AACAgI,kBAAEvL,MAAF,GAAWuL,EAAExL,KAAb;AACAwL,kBAAEC,IAAF,GAASF,KAAT;;AAEA,oBAAIG,QAAQnI,KAAKC,MAAL,KAAgBD,KAAKoI,EAArB,GAA0B,CAAtC;AACA,oBAAIC,WAAWrI,KAAKsI,GAAL,CAAStI,KAAKC,MAAL,KAAgBD,KAAKoI,EAArB,GAA0B,CAAnC,IAAwCR,MAAvD;;AAEAK,kBAAE5I,MAAF,GAAW,oBAAWoI,EAAX,EAAeC,EAAf,EAAmB1H,KAAKsI,GAAL,CAASH,KAAT,IAAkBE,QAArC,EAA+CrI,KAAKuI,GAAL,CAASJ,KAAT,IAAkBE,QAAjE,CAAX;AACAJ,kBAAE5I,MAAF,CAASgF,MAAT,CAAgB4D,CAAhB;AACAA,kBAAE5I,MAAF,CAASmJ,QAAT,CAAkB,eAAMC,YAAN,CAAmB,kBAAU;AAC3CpJ,2BAAOjB,CAAP,IAAY,EAAZ;AACAiB,2BAAOhB,EAAP,IAAa,GAAb;AACAgB,2BAAOf,EAAP,IAAa,GAAb;AACAe,2BAAOG,SAAP,CAAiB4G,KAAjB,CAAuBjI,CAAvB,IAA4B,GAA5B;AACAkB,2BAAOG,SAAP,CAAiB4G,KAAjB,CAAuBhI,CAAvB,IAA4B,GAA5B;AACH,iBANiB,CAAlB;;AAQA,qBAAKyF,WAAL,CAAiBnE,IAAjB,CAAsBuI,CAAtB;AACA,qBAAKF,QAAL,CAAcxD,QAAd,CAAuB0D,CAAvB;AACH;;AAED,iBAAK3D,SAAL,CAAeoE,UAAf,CAA0B,KAAKX,QAA/B,EAAyC,CAAzC;AACH;;;yCAEgB;AACb,gBAAI,CAAC,KAAKvD,IAAL,CAAUmE,GAAX,IAAkB,KAAKrE,SAAL,CAAejF,MAAf,CAAsBjB,CAAtB,GAA0B,KAAKoG,IAAL,CAAUC,OAA1D,EAAmE;AAC/D,qBAAKD,IAAL,CAAUmE,GAAV,GAAgB,IAAhB;AACA,qBAAKC,cAAL,CAAoB,GAApB,EAAyB,IAAzB,EAA+B,IAA/B;AACH,aAHD,MAGO,IAAI,CAAC,KAAKpE,IAAL,CAAUqE,GAAX,IAAkB,KAAKvE,SAAL,CAAejF,MAAf,CAAsBjB,CAAtB,GAA0B,KAAKoG,IAAL,CAAUC,OAAV,GAAoB,GAApE,EAAyE;AAC5E,qBAAKD,IAAL,CAAUqE,GAAV,GAAgB,IAAhB;AACA,qBAAKD,cAAL,CAAoB,IAApB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,EAAtC,EAA0C,QAA1C;AACH,aAHM,MAGA,IAAI,CAAC,KAAKpE,IAAL,CAAUsE,GAAX,IAAkB,KAAKxE,SAAL,CAAejF,MAAf,CAAsBjB,CAAtB,GAA0B,KAAKoG,IAAL,CAAUC,OAAV,GAAoB,GAApE,EAAyE;AAC5E,qBAAKD,IAAL,CAAUsE,GAAV,GAAgB,IAAhB;AACA,qBAAKF,cAAL,CAAoB,IAApB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,EAAtC,EAA0C,QAA1C;AACH;AACJ;;;qCAEY;AACT,iBAAKnC,OAAL,CAAarC,KAAb,IAAsB,IAAtB;AACA,gBAAI,KAAKqC,OAAL,CAAarC,KAAb,IAAsB,CAA1B,EAA6B;AACzB,qBAAKqC,OAAL,CAAarC,KAAb,GAAqB,CAArB;AACA,qBAAKE,SAAL,CAAejF,MAAf,CAAsBb,EAAtB,GAA2B,CAAC,EAA5B;;AAEA;AACA,qBAAKgG,IAAL,CAAUE,OAAV,GAAoB,IAApB;AACA,qBAAKF,IAAL,CAAUG,MAAV,GAAmB,KAAnB;AACH;AACJ;;;oCAEW;AACR,gBAAI,KAAKL,SAAL,CAAejF,MAAf,CAAsBjB,CAAtB,GAA0B,KAAKoG,IAAL,CAAUC,OAAxC,EAAiD;AAC7C,qBAAKH,SAAL,CAAejF,MAAf,CAAsBb,EAAtB,GAA2B,EAA3B;AACH;;AAED,iBAAK8F,SAAL,CAAejF,MAAf,CAAsBE,MAAtB;AACH;;;iCAEQ;AACL,iBAAKiF,IAAL,CAAUI,UAAV,IAAwB,KAAKmE,UAAL,EAAxB;AACA,iBAAKvE,IAAL,CAAUG,MAAV,IAAoB,KAAKqE,UAAL,EAApB;AACA,iBAAKxE,IAAL,CAAUE,OAAV,IAAqB,KAAKuE,SAAL,EAArB;;AAEA,iBAAKvF,MAAL,CAAY1F,OAAZ,CAAoB,iBAAS;AACzBkL,sBAAM7J,MAAN,CAAaE,MAAb;AACH,aAFD;;AAIA,iBAAK4J,cAAL;AACA,iBAAKvF,KAAL,CAAW5F,OAAX,CAAmB,aAAK;AAAEG,kBAAEiG,KAAF,GAAUpE,KAAKC,MAAL,EAAV;AAA0B,aAApD;AACA,iBAAKmJ,YAAL,IAAqB,KAAKA,YAAL,CAAkB/J,MAAlB,CAAyBE,MAAzB,EAArB;AACA,iBAAKsE,WAAL,CAAiB7F,OAAjB,CAAyB;AAAA,uBAAKG,EAAEkB,MAAF,CAASE,MAAT,EAAL;AAAA,aAAzB;AACH;;;;;;kBAGUkE,O;;;;;;;;;;;;;;;ACzRf;;;;AACA;;AACA;;;;;;;;IAEM4F,K;AACF,mBAAYvI,GAAZ,EAAoC;AAAA,YAAnBwI,YAAmB,uEAAJ,EAAI;;AAAA;;AAChC,aAAKxI,GAAL,GAAWA,GAAX;;AAEA,aAAKwD,SAAL,GAAiB,IAAI/G,KAAK0H,SAAT,EAAjB;AACA,aAAKsE,MAAL,GAAc,IAAIhM,KAAK0H,SAAT,EAAd;;AAEA,aAAKX,SAAL,CAAejF,MAAf,GAAwB,qBAAxB;AACA,aAAKkK,MAAL,CAAYlK,MAAZ,GAAqB,qBAArB;;AAEA,aAAKiF,SAAL,CAAejF,MAAf,CAAsBgF,MAAtB,CAA6B,KAAKC,SAAlC;AACA,aAAKiF,MAAL,CAAYlK,MAAZ,CAAmBgF,MAAnB,CAA0B,KAAKkF,MAA/B;;AAEA,aAAKD,YAAL,GAAoBA,YAApB;;AAEA,aAAKC,MAAL,CAAYhF,QAAZ,CAAqB,KAAKD,SAA1B;AACA,aAAKE,IAAL,GAAY,EAAZ;AACH;;;;sCAEalH,I,EAAMN,I,EAAsB;AAAA,gBAAhBC,IAAgB,uEAAT,OAAS;;AACtC,iBAAKqM,YAAL,CAAkB5J,IAAlB,CAAuB,EAAEpC,UAAF,EAAQN,UAAR,EAAcC,UAAd,EAAvB;AACH;;;gCAEQ;AAAE,kBAAM,IAAIuM,KAAJ,CAAU,gCAAV,CAAN;AAAoD;;;iCACtD;AAAE,kBAAM,IAAIA,KAAJ,CAAU,iCAAV,CAAN;AAAoD;;AAE/D;AACA;;;;6BACK5L,I,EAAM;AACP,+BAAI,OAAJ,EAAa,mDAAb;AACA,iBAAK0L,YAAL,CAAkBtL,OAAlB,CAA0B,eAAO;AAC7B,iCAAOP,GAAP,CAAWgM,IAAInM,IAAf,EAAqBmM,IAAIzM,IAAzB,EAA+ByM,IAAIxM,IAAnC;AACH,aAFD;;AAIA,+BAAI,OAAJ,EAAa,uBAAb;AACA,6BAAOY,IAAP,CAAYD,IAAZ;AACH;;;;;;kBAGUyL,K;;;;;;;;;;;;;;;AC3Cf;;;;;;;;IAEMK,K;AACF,mBAAY5I,GAAZ,EAAiB;AAAA;;AACb,aAAK6I,MAAL,GAAc,EAAd;AACA,aAAKvI,QAAL,GAAgB7D,KAAKqM,kBAAL,CAAwB,iBAAOnN,KAA/B,EAAsC,iBAAOC,MAA7C,EAAqD,EAAEmN,WAAY,KAAd,EAArD,CAAhB;AACA,aAAK/I,GAAL,GAAWA,GAAX;AACA,aAAKgJ,YAAL;AACH;;;;wCAEexM,I,EAAMyM,U,EAAYnM,I,EAAM;AAAA;;AACpC;AACA,iBAAKkM,YAAL,GAAoB,KAAKH,MAAL,CAAYrM,IAAZ,CAApB;AACA,iBAAKwD,GAAL,CAASE,KAAT,GAAiB,KAAK8I,YAAL,CAAkBxF,SAAnC;AACA,iBAAKwF,YAAL,CAAkBjM,IAAlB,CAAuB,YAAM;AACzB,sBAAKiM,YAAL,CAAkBE,KAAlB;AACApM;AACH,aAHD;AAIH;;;iCAEQ;AACL,iBAAKkM,YAAL,CAAkBvK,MAAlB;AACH;;;+BAEM;AACH,iBAAK6B,QAAL,CAAc6I,MAAd,CAAqB,KAAKH,YAAL,CAAkBP,MAAvC;AACH;;;iCAEQjM,I,EAAM4M,K,EAAOC,O,EAAS;AAC3B,iBAAKR,MAAL,CAAYrM,IAAZ,IAAoB4M,KAApB;AACAC,uBAAW,KAAK3H,eAAL,CAAqBlF,IAArB,CAAX;AACH;;;;;;kBAGUoM,K","file":"experiment.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8b951d312731f01da164","const LOG_SENDER_MAX_LENGTH = 18;\nexport default function(sender, message, level) {\n    console.log(`[${new Date().toString()} - ${sender}${\" \".repeat(LOG_SENDER_MAX_LENGTH - sender.length)}] - ${message}`)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dev/log.js","export default {\n    width : 1920,\n    height: 1080,\n\n    appOption : {\n        background : 0x000000\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./dev/config.js","import log from './log';\n\nconst assets = {};\nlet mustload = false;\n\nclass Asset {\n    constructor(file, type) {\n        this.file = file;\n        this.type = type;\n        this.loaded = false;\n    }\n\n    setResource(res) {\n        this.resource = res;\n        this.loaded = true;\n    }\n}\n\nclass Static {\n    static add(name, file, type = \"image\") {\n        if (!assets[name]) { \n            log('Static', 'Added static resource ' + file + ' with name ' + name);\n            assets[name] = new Asset(file, type);\n            PIXI.loader.add(name, file);\n            mustload = true;\n        }\n    }\n\n    static getOne(name) {\n        return assets[name];\n    }\n\n    static free(name) {\n        assets[name] && assets[name].loaded && assets[name].resource.texture.destroy();\n        delete assets[name];\n    }\n    \n    static load(done) {\n        if (!mustload) {\n            log('Static', 'Nothing to load, calling back');\n            return done();\n        }\n\n        log('Static', 'Calling loader load method');\n        PIXI.loader.load((loader, res) => {\n            Object.keys(res).forEach(name => {\n                assets[name].setResource(res[name]);\n            });\n\n            mustload = false;\n\n            log('Static', 'Done loading static assets, calling back');\n            done();\n        });\n    }\n}\n\nexport default Static;\n\n\n\n// WEBPACK FOOTER //\n// ./dev/static.js","export class Vector {\n    constructor(x = 0, y = 0, vx = 0, vy = 0, ax = 0, ay = 0) {\n        this.x = x;\n        this.y = y;\n\n        this.vx = vx;\n        this.vy = vy;\n\n        this.ax = ax;\n        this.ay = ay;\n\n        this.mx = Number.MAX_SAFE_INTEGER;\n        this.my = Number.MAX_SAFE_INTEGER;\n        this.minx = Number.MIN_SAFE_INTEGER;\n        this.miny = Number.MIN_SAFE_INTEGER;\n        \n        this.mvx = Number.MAX_SAFE_INTEGER;\n        this.mvy = Number.MAX_SAFE_INTEGER;\n        this.minvx = Number.MIN_SAFE_INTEGER;\n        this.minvy = Number.MIN_SAFE_INTEGER;\n\n        this.forces = [];\n    }\n\n    setMax(mx = Number.MAX_SAFE_INTEGER, my = Number.MAX_SAFE_INTEGER) {\n        this.mx = mx;\n        this.my = my;\n    }\n\n    setMin(minx = Number.MIN_SAFE_INTEGER, miny = Number.MIN_SAFE_INTEGER) {\n        this.minx = minx;\n        this.miny = miny;\n    }\n\n    setMaxVelocity(mvx = Number.MAX_SAFE_INTEGER, mvy = Number.MAX_SAFE_INTEGER) {\n        this.mvx = mvx;\n        this.mvy = mvy;\n    }\n\n    setMinVelocity(minvx = Number.MIN_SAFE_INTEGER, minvy = Number.MIN_SAFE_INTEGER) {\n        this.minvx = minvx;\n        this.minvy = minvy;\n    }\n\n    add(vector) {\n        this.x += vector.x;\n        this.y += vector.y;\n    }\n\n    sub(vector) {\n        this.x -= vector.x;\n        this.y -= vector.y;\n    }\n\n    update() {\n        if (this.frozen) { return; }\n\n        this.vx += this.ax;\n        this.vy += this.ay;\n\n        if (this.vx > this.mvx) {\n            this.vx = this.mvx\n        } else if (this.vx < this.minvx) {\n            this.vx = this.minvx;\n        }\n\n        if (this.vy > this.mvy) {\n            this.vy = this.mvy\n        } else if (this.vy < this.minvy) {\n            this.vy = this.minvy;\n        }\n\n        this.x += this.vx;\n        this.y += this.vy;\n\n        if (this.x > this.mx) {\n            this.x = this.mx;\n        } else if (this.x < this.minx) {\n            this.x = this.minx;\n        }\n\n        if (this.y > this.my) {\n            this.y = this.my;\n        } else if (this.y < this.miny) {\n            this.y = this.miny;\n        }\n\n        this.forces.forEach(x => x.update(this));\n\n        if (this.protoElem) {\n            this.protoElem.x = this.x;\n            this.protoElem.y = this.y;\n        }\n    }\n\n    freeze() {\n        this.frozen = true;\n    }\n\n    addForce(force) {\n        this.forces.push(force);\n    }\n\n    attach(protoElem) {\n        this.protoElem = protoElem;\n    }\n}\n\nexport class Force {\n    static fromFunction(up) {\n        return { update : up };\n    }\n\n    constructor(vx = 0, vy = 0, ax = 0, ay = 0) {\n        this.vx = vx;\n        this.vy = vy;\n        this.ax = ax;\n        this.ay = ay;\n    }\n\n    update(vector) {\n        this.vx += this.ax;\n        this.vy += this.ay;\n\n        vector.x += this.vx;\n        vector.y += this.vy;\n    }\n}\n\nexport class Range {\n    static random(min, max) {\n        return Math.random() * (max - min) + min;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dev/physics.js","import log from './log';\nimport Landing from './landing';\nimport Config from './config';\nimport Stage from './stage';\n\nconst downloadFonts = (gotFont) => {\n    var oReq = new XMLHttpRequest();\n    oReq.addEventListener(\"load\", gotFont);\n    oReq.open(\"GET\", \"assets/Source_Sans_Pro/ssplight.woff2\");\n    oReq.send();\n}\n\nglobal.frames = 0;\nclass Experiment {\n    constructor() {\n        global.addEventListener('resize', this.handleResize.bind(this));\n\n        this.app = new PIXI.Application(Config.width, Config.height, Config.appOption)\n        this.stage = new Stage(this.app, PIXI);\n\n        this.stage.addScene('landing', new Landing(this.app));\n    }\n\n    handleResize() {\n        const ratio = Config.width / Config.height;\n\n        this.canvasElement = this.stage.renderer.view;\n        this.canvasElement.style.position = \"relative\";\n        this.canvasElement.style.display = \"block\";\n\n        if (global.innerWidth >= Config.width) {\n            this.canvasElement.style.width = (global.innerHeight * ratio) + \"px\";\n            this.canvasElement.style.height = \"100%\";\n            this.canvasElement.style.left = ((global.innerWidth - (global.innerHeight * ratio)) / 2) + \"px\";\n            this.canvasElement.style.top = 0;\n        } else {\n            this.canvasElement.style.width = \"100%\"; \n            this.canvasElement.style.height = (global.innerWidth / ratio) + \"px\";\n            this.canvasElement.style.left = 0;\n            this.canvasElement.style.top = ((global.innerHeight - (global.innerWidth / ratio)) / 2) + \"px\";\n        }\n    }\n\n    update() {\n        global.frames++;\n        this.stage.update();\n    }\n\n    draw() {\n        this.stage.draw();\n    }\n\n    bindFrameRate() {\n        log('Experiment', \"Bound fps counter\");\n        setInterval(() => {\n            global.fps = global.frames * 2;\n            document.title = global.fps + \" FPS\";\n            global.frames = 0;\n        }, 500);\n    }\n\n    pause()  { this.app.ticker.stop();  }\n    resume() { this.app.ticker.start(); }\n\n    run() {\n        document.body.appendChild(this.stage.renderer.view);\n\n        this.bindFrameRate();\n        this.stage.setCurrentScene('landing', false, () => {\n            this.handleResize();\n\n            log('Experiment', 'Binding ticker with update function');\n            this.app.ticker.add(() => {\n                this.update();\n                this.draw();            \n            });\n        });\n    }\n};\n\ndownloadFonts(() => {\n    global._experiment = new Experiment();\n    _experiment.run();\n});\n\ndocument.addEventListener('keydown', () => { _experiment.app.ticker.started ? _experiment.pause() : _experiment.resume(); });\n\n\n\n// WEBPACK FOOTER //\n// ./dev/experiment.js","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","import Scene from './scene';\nimport Config from './config';\nimport log from './log';\nimport Static from './static';\nimport { Vector, Force, Range } from \"./physics\";\n\nconst MAX_CLOUDS = 5;\nconst MAX_STARS = 20000;\n\nconst SCENE_HEIGHT = 2500;\nconst SCENE_WIDTH = Config.width;\n\nclass Landing extends Scene {\n    constructor(app) {\n        super(app, [\n            { name : \"fluffycloud\", file : \"assets/cloud.png\" },\n            { name : \"fog\", file : \"assets/fog.png\" },\n            { name : \"blueglow\", file : \"assets/blueglow.png\" },\n            { name : \"glow\", file : \"assets/glow.png\" },\n            { name : \"pixel\", file : \"assets/pixel.png\" }\n        ]);\n    }  \n\n    setup() {\n        this.clouds = new Array(MAX_CLOUDS);\n        this.stars = new Array(MAX_STARS);\n        this.fwparticles = [];\n\n        // Text\n        this.welcome = new PIXI.Text(\"WebGL experiment with Pixi, determination and a lot of caffeine.\", {\n            fontFamily : \"Source Sans Pro\",\n            fill : 0xFFFFFF,\n            fontSize : \"28px\",\n            fontWeight : 300\n        });\n\n        this.welcome.vector = new Vector(Config.width / 2 - this.welcome.width / 2, Config.height / 2 - 28);\n        this.welcome.alpha = 0;\n        this.welcome.vector.attach(this.welcome);\n        this.welcome.vector.update();\n\n        this.container.addChild(this.welcome);\n\n        this.vars.halfpan = -(SCENE_HEIGHT - Config.height) / 2;\n        this.vars.panning = false;\n        this.vars.fading = false;\n        this.vars.presenting = true;\n\n        this.vars.texttimer = performance.now() + 5000;\n    }\n\n    createBridge() {\n        const bridgeContainer = new PIXI.Container();\n        const bridge = new PIXI.Graphics();\n        const mask = new PIXI.Graphics();\n        const pady = 1800;\n\n        [bridge, mask].forEach(bridge => {\n            // Contour\n            bridge.lineStyle(40, 0x181B18, 1);\n            bridge.moveTo(-100, 300 + pady);\n            bridge.quadraticCurveTo(200, 200 + pady, 300, 100 + pady);\n            bridge.quadraticCurveTo(1000, 300 + pady, 1700, 100 + pady);\n            bridge.quadraticCurveTo(1800, 200 + pady, 2100, 300 + pady);\n            bridge.moveTo(2100, 400 + pady);\n            bridge.quadraticCurveTo(1000, 380 + pady, -100, 400 + pady);\n\n            // Mid curve\n            bridge.lineStyle(10, 0x181B18, 1);\n            bridge.moveTo(-100, 400 + pady);\n            bridge.quadraticCurveTo(100, 400 + pady, 300, 250 + pady);\n            bridge.quadraticCurveTo(1000, 400 + pady, 1700, 250 + pady);\n            bridge.quadraticCurveTo(1900, 400 + pady, 2000, 400 + pady);\n\n            // Beams\n            bridge.moveTo(300, 400 + pady);\n            for (let i = 300; i <= 900; i+=100) {\n                bridge.lineTo(i, 100 + pady + (i - 300) / 10 + Math.sqrt(i) + 12);\n                bridge.lineTo(i + 100, 385 + pady);\n            }\n\n            bridge.moveTo(1700, 400 + pady);\n            for (let i = 1700; i >= 1100; i-=100) {\n                bridge.lineTo(i, 100 + pady + (1650 - i) / 10 + Math.sqrt(i) + 12);\n                bridge.lineTo(i - 100, 385 + pady);\n            }\n            bridge.lineTo(1000, 200 + pady);\n        });\n\n        bridgeContainer.addChild(bridge);\n        this.bridge = bridge;\n\n        bridge.mask = mask;\n        bridgeContainer.addChild(mask);\n\n        let glow = new PIXI.extras.PictureSprite(Static.getOne(\"glow\").resource.texture);\n        glow.blendMode = PIXI.BLEND_MODES.OVERLAY;\n        glow.x = Config.width / 2;\n        glow.y = SCENE_HEIGHT;\n        glow.anchor.x = .5;\n        glow.anchor.y = .5;\n        glow.scale.x = 8;\n        glow.scale.y = 4;\n        bridgeContainer.addChild(glow);\n\n        const bridgelights = [];\n        for (let i = 300; i > 1700; i += 100) {\n            let light = new PIXI.extras.PictureSprite(Static.getOne('glow').resource.texture);\n            bridgelights.push(light);\n            light.anchor.x = .5;\n            light.anchor.y = .5;\n\n            light.x = i;\n            light.y = pady + 350;\n            light.scale.x = .3;\n            light.scale.y = .3;\n            light.blendMode = PIXI.BLEND_MODES.OVERLAY;\n            bridgeContainer.addChild(light);\n        }\n\n        return bridgeContainer;\n    }\n\n    updateText() {\n        if (this.vars.texttimer > performance.now()) {\n            this.welcome.alpha += 0.02;\n            if (this.welcome.alpha >= 1) {\n                this.welcome.alpha = 1;\n            }\n        } else {\n            this.welcome.alpha -= 0.05;\n            if (this.welcome.alpha <= 0) {\n                this.background = new PIXI.Graphics();\n                this.background.beginFill(0x001122);\n                this.background.moveTo(0, 0);\n                this.background.lineTo(0, SCENE_HEIGHT);\n                this.background.lineTo(SCENE_WIDTH, SCENE_HEIGHT);\n                this.background.lineTo(SCENE_WIDTH, 0);\n                this.background.lineTo(0, 0);\n                this.background.endFill();\n\n                this.overlay = new PIXI.Graphics();\n                this.overlay.beginFill(0);\n                this.overlay.moveTo(0, 0);\n                this.overlay.lineTo(0, Config.height);\n                this.overlay.lineTo(Config.width, Config.height);\n                this.overlay.lineTo(Config.width, 0);\n                this.overlay.lineTo(0, 0);\n                this.overlay.endFill();\n                this.overlay.alpha = 1;\n\n                const startexture = Static.getOne(\"pixel\").resource.texture;\n                this.starsContainer = new PIXI.particles.ParticleContainer(MAX_STARS, { alpha : true });\n                this.starsContainer.width = SCENE_WIDTH;\n                this.starsContainer.height = SCENE_HEIGHT;\n                for (let i = 0; i < MAX_STARS; i++) {\n                    this.stars[i] = new PIXI.Sprite(startexture);\n                    this.stars[i].x = Math.random() * SCENE_WIDTH;\n                    this.stars[i].y = Math.random() * SCENE_HEIGHT;\n                    this.stars[i].width = Math.random() * 2;\n                    this.stars[i].height = this.stars[i].width;\n\n                    this.starsContainer.addChild(this.stars[i]);\n                }\n           \n                log('Landing', 'Creating ' + MAX_CLOUDS + ' clouds');\n                for (let i = 0; i < MAX_CLOUDS; i++) {\n                    this.clouds[i] = new PIXI.extras.PictureSprite(Static.getOne(\"fluffycloud\").resource.texture);\n                    this.clouds[i].pluginName = \"picture\";\n\n                    this.clouds[i].vector = new Vector(\n                        Math.random() * SCENE_WIDTH - this.clouds[i].width / 2,\n                        Math.random() * Config.height - this.clouds[i].height / 2,\n                        Math.random()\n                    );\n                    this.clouds[i].vector.setMax(Config.width);\n                    this.clouds[i].vector.attach(this.clouds[i]);\n                    this.clouds[i].blendMode = PIXI.BLEND_MODES.OVERLAY;\n                    this.clouds[i].alpha = Math.random();\n                }\n\n                this.container.vector.setMinVelocity(0, -15.7);\n                this.container.vector.setMaxVelocity(0, 0);\n                this.container.vector.setMin(0, -(SCENE_HEIGHT - Config.height));\n\n                this.container.filters = [new PIXI.filters.AlphaFilter()];\n                this.container.filterArea = new PIXI.Rectangle(0, 0, Config.width, Config.height);\n                this.container.addChild(this.background, this.starsContainer, this.createBridge(), ...this.clouds, this.overlay);\n\n                // End phase\n                this.vars.presenting = false;\n                this.vars.fading = true;\n            }\n        }\n    }\n\n    launchFirework(PX = 500, PY = 500, CTN = 1000, velmod = 35, pcolor = 0xdb9a4a) {\n        const FIREWORK_COUNT = CTN;\n        this.firework = new PIXI.particles.ParticleContainer(FIREWORK_COUNT, { position : true, scale : true });\n        this.firework.width = SCENE_WIDTH;\n        this.firework.height = SCENE_HEIGHT;\n\n        const color = pcolor;\n        const texture = Static.getOne('pixel').resource.texture;\n        for (let i = 0; i < FIREWORK_COUNT; i++) {\n            const p = new PIXI.Sprite(texture);\n            p.x = PX;\n            p.y = PY;\n            p.width = Math.random() * 6;\n            p.height = p.width;\n            p.tint = color;\n\n            let angle = Math.random() * Math.PI * 2;\n            let velocity = Math.cos(Math.random() * Math.PI / 2) * velmod;\n\n            p.vector = new Vector(PX, PY, Math.cos(angle) * velocity, Math.sin(angle) * velocity);\n            p.vector.attach(p);\n            p.vector.addForce(Force.fromFunction(vector => {\n                vector.y += .1;\n                vector.vx *= .95;\n                vector.vy *= .95;\n                vector.protoElem.scale.x *= .99;\n                vector.protoElem.scale.y *= .99;\n            }));\n\n            this.fwparticles.push(p);\n            this.firework.addChild(p);\n        }\n\n        this.container.addChildAt(this.firework, 2);\n    }\n\n    fireworksCheck() {\n        if (!this.vars.fw1 && this.container.vector.y < this.vars.halfpan) {\n            this.vars.fw1 = true;\n            this.launchFirework(450, 1000, 1000);\n        } else if (!this.vars.fw2 && this.container.vector.y < this.vars.halfpan - 200) {\n            this.vars.fw2 = true;\n            this.launchFirework(1450, 1300, 1000, 25, 0xc854f9);\n        } else if (!this.vars.fw3 && this.container.vector.y < this.vars.halfpan - 500) {\n            this.vars.fw3 = true;\n            this.launchFirework(1000, 1500, 1000, 42, 0x59f96f);\n        }\n    }\n\n    updateFade() {\n        this.overlay.alpha -= 0.02;\n        if (this.overlay.alpha <= 0) {\n            this.overlay.alpha = 0;\n            this.container.vector.ay = -.1;\n            \n            // End phase\n            this.vars.panning = true;\n            this.vars.fading = false;\n        }\n    }\n\n    updatePan() {\n        if (this.container.vector.y < this.vars.halfpan) {\n            this.container.vector.ay = .1;\n        }\n\n        this.container.vector.update();\n    }\n\n    update() {\n        this.vars.presenting && this.updateText();\n        this.vars.fading && this.updateFade();\n        this.vars.panning && this.updatePan();\n\n        this.clouds.forEach(cloud => {\n            cloud.vector.update();\n        });\n\n        this.fireworksCheck();\n        this.stars.forEach(x => { x.alpha = Math.random(); });\n        this.rippleSprite && this.rippleSprite.vector.update();\n        this.fwparticles.forEach(x => x.vector.update());\n    }\n}\n\nexport default Landing;\n\n\n\n// WEBPACK FOOTER //\n// ./dev/landing.js","import Static from './static';\nimport { Vector } from './physics';\nimport log from './log';\n\nclass Scene {\n    constructor(app, dependencies = []) {\n        this.app = app;\n\n        this.container = new PIXI.Container();\n        this.camera = new PIXI.Container();\n\n        this.container.vector = new Vector();\n        this.camera.vector = new Vector();\n\n        this.container.vector.attach(this.container);\n        this.camera.vector.attach(this.camera);\n\n        this.dependencies = dependencies;\n\n        this.camera.addChild(this.container);\n        this.vars = {};\n    }\n\n    addDependency(name, file, type = \"image\") {\n        this.dependencies.push({ name, file, type })\n    }\n\n    setup()  { throw new Error(\"setup() method not implemented\")  }\n    update() { throw new Error(\"update() method not implemented\") }\n\n    // Can be overridden using super.load(() => { stuff; done(); })\n    // Might be useful for async setup\n    load(done) {\n        log('Scene', 'Dependencies are being converted to static assets');\n        this.dependencies.forEach(dep => {\n            Static.add(dep.name, dep.file, dep.type);\n        });\n\n        log('Scene', 'Loading static assets');\n        Static.load(done);\n    }\n}\n\nexport default Scene;\n\n\n\n// WEBPACK FOOTER //\n// ./dev/scene.js","import Config from './config';\n\nclass Stage {\n    constructor(app) {\n        this.scenes = {};\n        this.renderer = PIXI.autoDetectRenderer(Config.width, Config.height, { antialias : false });\n        this.app = app;\n        this.currentScene;\n    }\n\n    setCurrentScene(name, transition, done) {\n        // TODO: Add second background scene to transition between old and new\n        this.currentScene = this.scenes[name];\n        this.app.stage = this.currentScene.container;\n        this.currentScene.load(() => {\n            this.currentScene.setup();\n            done();\n        });\n    }\n\n    update() {\n        this.currentScene.update();\n    }\n\n    draw() {\n        this.renderer.render(this.currentScene.camera);\n    }\n\n    addScene(name, scene, current) {\n        this.scenes[name] = scene;\n        current && this.setCurrentScene(name);\n    }\n}\n\nexport default Stage;\n\n\n\n// WEBPACK FOOTER //\n// ./dev/stage.js"],"sourceRoot":""}